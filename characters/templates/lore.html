{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Lore del Héroe</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Crimson+Pro:wght@400;600&display=swap');

        body {
            background-color: #000;
            color: #fff;
            text-align: center;
            font-family: 'Crimson Pro', serif;
            padding: 0;
            margin: 0;
        }

        h1 {
            font-family: 'Cinzel Decorative', serif;
            font-size: 4rem;
            color: #b40f0f;
            margin-top: 40px;
            margin-bottom: 25px;
            text-shadow: 0 0 25px #900;
        }

        .skin-img {
            width: 380px;
            max-width: 95%;
            display: block;
            margin: 0 auto 30px auto;
            border-radius: 10px;
            border: 3px solid #600;
            box-shadow: 0px 0px 25px rgba(255,0,0,0.35);
        }

        .lore-container {
            width: 80%;
            max-width: 950px;
            margin: 0 auto;
            font-size: 1.25rem;
            margin-top: 10px;
        }

        /* Texto revelándose */
        .lore-line {
            opacity: 0;
            transform: translateY(15px);
            animation: fadeMove 1.4s ease-out forwards;
            margin-bottom: 18px;
            line-height: 1.8rem;
        }

        .lore-line:nth-child(n) {
            animation-delay: calc(0.6s * var(--i));
        }

        @keyframes fadeMove {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .btn-battle {
            margin-top: 40px;
            padding: 14px 38px;
            background-color: #700;
            color: #fff;
            text-decoration: none;
            font-weight: bold;
            font-family: 'Cinzel Decorative', serif;
            border-radius: 10px;
            font-size: 1.4rem;
            transition: .3s;
            display: inline-block;
            opacity: 0;
        }

        .btn-battle.show {
            animation: fadeMove 1.6s ease-out forwards;
            animation-delay: 2s;
        }

        .btn-battle:hover {
            background-color: #b00;
            box-shadow: 0px 0px 18px #b00;
        }
    </style>

</head>
<body>

    <h1>{{ character_name }}</h1>

    <img src="{{ skin_image }}" class="skin-img" alt="Skin del héroe">

    <div class="lore-container">
        {% for line in lore_lines %}
            <p class="lore-line" style="--i: {{ forloop.counter }}">{{ line }}</p>
        {% endfor %}
    </div>

    <a href="/batalla/" id="btnBattle" class="btn-battle">Continuar a la Batalla</a>

<script>
    const lines = parseInt("{{ lore_lines|length|default:'0' }}");
    setTimeout(() => {
        document.getElementById("btnBattle").classList.add("show");
    }, (lines * 600) + 1400);
</script>
</body>
</html>
